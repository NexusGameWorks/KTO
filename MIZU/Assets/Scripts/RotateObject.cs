using System;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class RotateObject : MonoBehaviour
{
<<<<<<< Updated upstream
    [SerializeField] private float rotationSpeed = 90f;  //  1•b‚Å‰½“x‰ñ“]‚·‚é‚©
    [Header("ƒQ[ƒ€ŠJŽnŽž‚ÉŽ©“®‚Å‰ñ“]‚ðŽn‚ß‚é‚æ‚¤‚É‚·‚é‚©")]
    [SerializeField] private bool autoRotating = false;

=======
    [Header("1?b?????x???]??????")]
    [SerializeField] private float rotationSpeed = 90f;
    [Header("?Q?[???J?n?????????????]???n????????????????")]
    [SerializeField] private bool autoRotating = false;

    //  ???]???????????? 1???????A-1???t???]
    private int rotateDirection = 1;
>>>>>>> Stashed changes

    private bool isRotating = false;  //  ???]???t???O

    //  ???]?????????????????????m???????????C?x???g??????
    public event Action<RotateObject, bool> RotatingChange;

<<<<<<< Updated upstream
=======
    //  ?????????]???????O???????????\??????
    public int RotateDirection => rotateDirection;

    //  ?I?u?W?F?N?g?????????]?????????????O???????????\??????
    public bool IsRotating => isRotating;

>>>>>>> Stashed changes
    void Start()
    {
        if(autoRotating)
        {
            StartRotation();
        }
    }

    //  ???]???J?n???????\?b?h
    public void StartRotation()
    {
        if (isRotating) return;

        isRotating = true;
        RotatingChange?.Invoke(this, true);
        Debug.Log($"{gameObject.name}: Rotation started.");
    }

    //  ‰ñ“]‚µ‚Ä‚¢‚é‚©‚Ç‚¤‚©‚ð•Ô‚·
    public bool IsRotating
    {
        get { return isRotating; }
    }

    void Update()
    {
        if (isRotating)
        {
            
            transform.Rotate(Vector3.back, rotationSpeed * Time.deltaTime);

        }
    }
<<<<<<< Updated upstream
=======
    
    //  ???]??????????????
    public void SetRotationDirection(int direction)
    {
        if (direction != 1 && direction != -1)
        {
            Debug.LogError("???]??????(???????])??-1(?t???]????????????B");
            return;
        }

        if (rotateDirection != direction)
        {
            rotateDirection = direction;
            RotatingChange?.Invoke(this, isRotating);
        }
    }

>>>>>>> Stashed changes
}